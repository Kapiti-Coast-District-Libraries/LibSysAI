<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <!--DXMETADATA start type="MetaCharset" --><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8"><!--DXMETADATA end-->
    <meta http-equiv="X-UA-Compatible" value="IE=9" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">

    <!--DXMETADATA start type="Literal" condition="helpversion:value=3" value="<meta name=""Microsoft.Help.SelfBranded"" content=""true"" />" --><!--DXMETADATA end-->
    <!--DXMETADATA start type="ItemTitle" format="<title>%%ItemTitle%%</title>" --><title>Recover offline transactions</title><!--DXMETADATA end-->
    <!--DXMETADATA start type="ItemTitle" format="<meta name=""Title"" content=""%%ItemTitleNoQuotes%%""/>" --><meta name="Title" content="Recover offline transactions"/><!--DXMETADATA end-->
    
    <!--DXMETADATA start type="PackageLink" packagename="jquery" filetype="script" firstlinkattributes="id=""mshs_support_script"""--><script src="http://kapiti.spydus.co.nz/onlinehelp/template/packages/jquery/script/default/jquery.min.js" type="text/javascript" id="mshs_support_script"></script><!--DXMETADATA end-->
    <!--DXMETADATA start type="PackageLink" packagename="jquery-ui" filetype="script"--><script src="http://kapiti.spydus.co.nz/onlinehelp/template/packages/jquery-ui/script/default/jquery-ui.min.js" type="text/javascript"></script><!--DXMETADATA end-->
    <!--DXMETADATA start type="PackageLink" packagename="jquery-ui" filetype="css"--><link rel="stylesheet" type="text/css" href="http://kapiti.spydus.co.nz/onlinehelp/template/packages/jquery-ui/css/default/jquery-ui.min.css"></link><!--DXMETADATA end-->
    <!--DXMETADATA start type="TemplateSettingsJson" format="<script type=""text/javascript"">var Innovasys=(Innovasys||{});$.extend(true,Innovasys,{settings:{isHideBodyDuringLoadDisabled:true,dynamictoc:{isEnabled:true},inthistopic:{isSupported:true},dynamicstyles:{isDynamicWordWrapEnabled:true}}},{settings:%%TemplateSettingsJson%%});</script>" --><script type="text/javascript">var Innovasys=(Innovasys||{});$.extend(true,Innovasys,{settings:{isHideBodyDuringLoadDisabled:true,dynamictoc:{isEnabled:true},inthistopic:{isSupported:true},dynamicstyles:{isDynamicWordWrapEnabled:true}}},{settings:{"dynamictoc":{"initialNodeId":"n734","initialNodeContainer":"c0","isResizable":true},"inthistopic":{"isEnabled":true},"darkmode":{"isEnabled":true},"currentLocale":"-","isFrameless":true,"navigationKind":"inpage","versions":{"locale":{"currentId":"-"}}}});</script><!--DXMETADATA end-->
    <!--DXMETADATA start type="PackageLink" packagename="light" filetype="css"--><link rel="stylesheet" type="text/css" href="http://kapiti.spydus.co.nz/onlinehelp/template/packages/light/css/dynamic-toc.css"></link><!--DXMETADATA end-->
    <!--DXMETADATA start type="Synopsis" StripHtmlTags="True" MaxLength="250" format="<meta name=""Description"" content=""%%Synopsis%%"" />"--><meta name="Description" content="Once the library system is back online, you can recover the offline transactions." /><!--DXMETADATA end-->
    
    <!--DXMETADATA start type="PackageLink" packagename="plugins-topics" filetype="css"--><link rel="stylesheet" type="text/css" href="http://kapiti.spydus.co.nz/onlinehelp/template/packages/plugins-topics/css/default/jquery-plugins.css"></link><!--DXMETADATA end-->
    <!--DXMETADATA start type="PackageLink" packagename="core-topics" filetype="css" firstlinkattributes=" data-mshv2-stylesheet=""/template/packages/core-topics/topics.mshv2.css"" data-mshv1-stylesheet=""/template/packages/core-topics/topics.mshv1.css"" data-responsive-mobile=""template/packages/core-topics/topics.mobile.css"" data-responsive-tablet=""template/packages/core-topics/topics.tablet.css"""--><link rel="stylesheet" type="text/css" href="http://kapiti.spydus.co.nz/onlinehelp/template/packages/core-topics/css/topics.css"  data-mshv2-stylesheet="/template/packages/core-topics/topics.mshv2.css" data-mshv1-stylesheet="/template/packages/core-topics/topics.mshv1.css" data-responsive-mobile="template/packages/core-topics/topics.mobile.css" data-responsive-tablet="template/packages/core-topics/topics.tablet.css"></link><!--DXMETADATA end-->
    <!--DXMETADATA start type="PackageLink" packagename="plugins-topics" filetype="script"--><script src="http://kapiti.spydus.co.nz/onlinehelp/template/packages/plugins-topics/script/default/jquery-plugins.min.js" type="text/javascript"></script><!--DXMETADATA end-->
    <!--DXMETADATA start type="PackageLink" packagename="core-topics" filetype="script"--><script src="http://kapiti.spydus.co.nz/onlinehelp/template/packages/core-topics/script/topics.min.js" type="text/javascript"></script><!--DXMETADATA end-->
    
    <!--DXMETADATA start type="TopicId" format="<meta name=""Microsoft.Help.Id"" content=""%%TopicId%%""/>" --><meta name="Microsoft.Help.Id" content="e6f15d6b-b561-4b82-a795-8f12cea7f154"/><!--DXMETADATA end-->
    <!--DXMETADATA start type="TocParentId" format="<meta name=""Microsoft.Help.TocParent"" content=""%%TocParentId%%""/>" --><meta name="Microsoft.Help.TocParent" content="6091b611-1c34-4028-82e1-e315ecdd9ce2"/><!--DXMETADATA end-->
    <!--DXMETADATA start type="TocOrdinal" format="<meta name=""Microsoft.Help.TocOrder"" content=""%%TocOrdinal%%""/>" --><meta name="Microsoft.Help.TocOrder" content="7"/><!--DXMETADATA end-->
    <meta name="Microsoft.Help.F1" content=""/>
    <meta name="Microsoft.Help.ContentType" content="Concepts" />
    <!--DXMETADATA start type="MshvKeywords" condition="helpversion:value=3" --><!--DXMETADATA end-->
    <!--DXMETADATA start type="MshvMetaTags" condition="helpversion:value=3" --><!--DXMETADATA end-->
    <!--DXMETADATA start type="Help3CatalogLocale" condition="helpversion:value=3" format="<meta name=""Microsoft.Help.Locale"" content=""%%Help3CatalogLocale%%"" />"--><!--DXMETADATA end-->
    <!--DXMETADATA start type="Help3CatalogLocale" condition="helpversion:value=3" format="<meta name=""Microsoft.Help.TopicLocale"" content=""%%Help3CatalogLocale%%"" />"--><!--DXMETADATA end-->
    <!--DXMETADATA start type="Stylesheets" --><link rel="stylesheet" type="text/css" href="http://kapiti.spydus.co.nz/onlinehelp/stylesheets/hs-heading-expandcollapse.css"></link>
    <link rel="stylesheet" type="text/css" href="http://kapiti.spydus.co.nz/onlinehelp/stylesheets/customstyles.css"></link><!--DXMETADATA end-->
    <!--DXMETADATA start type="StylePropertyValues" format="<style>%%StylePropertyValues%%</style>" --><style>.i-is-new .i-page-title-text::after, ul#i-dt-root li.i-is-new>a::after { content: "New" }
</style><!--DXMETADATA end-->
    <!--DXMETADATA start type="Scripts" --><script src="http://kapiti.spydus.co.nz/onlinehelp/script/hs-common.js" type="text/javascript"></script>
    <script src="http://kapiti.spydus.co.nz/onlinehelp/script/hs-heading-expandcollapse.js" type="text/javascript"></script>
    <script src="http://kapiti.spydus.co.nz/onlinehelp/scripts/headings-initially-collapsed.js" type="text/javascript"></script><!--DXMETADATA end-->
    <!--DXMETADATA start type="DesignTime"--><!--DXMETADATA end-->
    <!--DXMETADATA start type="Scrap" condition="communityenabled" name="_COMMUNITY_PROPERTIES" --><!--DXMETADATA end -->
    <!--DXMETADATA start type="CanonicalLink" --><!--DXMETADATA end-->
    <!--DXMETADATA start type="CustomHeadContent" --><!--DXMETADATA end-->
    <!--DXMETADATA start type="IsTemplateFileFeatureEnabled" name="DARKMODE" format="<meta name=""color-scheme"" content=""dark light"" />" --><meta name="color-scheme" content="dark light" /><!--DXMETADATA end-->
	
    <script type="text/javascript">
        try
        {
            window.addEventListener('load', function() {
                if (location.hash) location.href = location.hash;
            });
        }
        catch (e) { }
        finally {}
    </script>
</head>

<body>
    <div id="i-before-header-content" class="i-before-header-content">
        
    </div>

    <div id="i-header-container">
        <div id="i-header-content" class="i-header-content i-content-width-container">
            <!--DXMETADATA start type="LogoImage" --><!--DXMETADATA end-->
            <div class="i-project-title"><!--DXMETADATA start type="ProjectTitle" -->Spydus Help<!--DXMETADATA end--></div>
            <div class="i-flex-spacer"></div>
            <div class="i-header-buttons-container">
                <div class="i-search-container">
                    <!--DXMETADATA start type="outputfileextension" format="<form action=""websearch%%outputfileextension%%"">" --><form action="http://kapiti.spydus.co.nz/onlinehelp/websearch.html"><!--DXMETADATA end-->
                    <!--DXMETADATA start type="Phrase" name="SEARCH_OPERATORTIP" format="<input id=""i-search"" name=""query"" title=""%%phrase%%""/>" --><input id="i-search" name="query" title="(Words can be combined using OR and AND)"/><!--DXMETADATA end-->
                    <input type="submit" id="i-search-button" value="" />
                    <!--DXMETADATA start type="Literal" value="</form>" --></form><!--DXMETADATA end-->
                </div>
                <!--DXMETADATA start type="outputfileextension" format="<a id=""i-index-button"" href=""webindex%%outputfileextension%%""></a>" --><a id="i-index-button" href="webindex.html"></a><!--DXMETADATA end-->
            </div>
        </div>
    </div>
    
    <div class="i-content-width-container"><div class="i-busy-overlay"></div></div>

    <div id="i-breadcrumbs-outer-container" class="i-content-width-container"><!--DXMETADATA start type="Breadcrumbs" scrap="_BREADCRUMBS" --><div class="i-breadcrumbs-container">
<a href="Offline.html">Circulation Offline</a>
 / Recover offline transactions</div><!--DXMETADATA end --></div>

    

    <div id="i-actions-outer-container" class="i-content-width-container">
        <div id="i-actions-container">
            <div id="i-actions-content" class="i-fixed-to-top">
                <!-- Spacing --> <span class="i-toggle-all-sections i-function-link">
                <label class="i-collapse-all"><!--DXMETADATA start type="Phrase" name="COLLAPSE_ALL" -->Collapse All<!--DXMETADATA end--></label>
                <label class="i-expand-all" style="display: none;"><!--DXMETADATA start type="Phrase" name="EXPAND_ALL" -->Expand All<!--DXMETADATA end--></label>
            </span><!--DXMETADATA start type="Literal" condition="communityenabled" value="%%scrap:name=_COMMUNITY_DROPDOWN%%" --><!--DXMETADATA end -->
                <div class="i-in-this-topic-container">
                    <span class="i-action-group-heading"><!--DXMETADATA start type="Phrase" Name="IN_THIS_TOPIC" -->In This Topic<!--DXMETADATA end--></span>
                </div>
            </div>
        </div>
    </div>

    <div id="i-toc-outer-container" class="i-content-width-container">
        <div id="i-toc-container">
            <div id="i-toc-content" class="i-fixed-to-top">
                <div class="i-toc-content-scroll-container">
                    <div id="i-dynamic-toc-container"><ul id="i-dt-root"></ul></div>
                </div>
            </div>
        </div>
    </div>

    <div id="i-body-content-container" class="i-content-width-container">
        <div id="i-body-content" class="i-body-content">
            <div class="i-page-title"><div class="i-page-title-text"><!--DXMETADATA start type="ItemTitle" -->Recover offline transactions<!--DXMETADATA end--></div></div>
            <div class="i-in-this-topic-container">
                <span class="i-action-group-heading"><!--DXMETADATA start type="Phrase" Name="IN_THIS_TOPIC" -->In This Topic<!--DXMETADATA end--></span>
            </div>
            <!--DXMETADATA start type="TopicSection" name="BodyText"--><P>Once the library system is back online, you can recover the offline transactions.</P>
<H1>Notification of transactions to be recovered</H1>
<P>If there offline transactions to be recovered you'll see a notification when you start Circulation Offline.</P>
<P><IMG class=ThinNavyBorder border=0 alt="" src="http://kapiti.spydus.co.nz/onlinehelp/images/OFF_TransactionsToRecover.jpg">&nbsp;</P>
<P>You'll also see this on the&nbsp;Spydus Circulation Offline Manager dialog, for example:</P>
<P><IMG border=0 alt="" src="http://kapiti.spydus.co.nz/onlinehelp/images/OFFLINE_CIRC_RECOVER_TRANSACTIONS.png"></P>
<H1>Recover offline transactions</H1>
<P>To recover offline transactions:</P>
<OL>
<LI>Click <STRONG>Recover Transactions</STRONG>&nbsp;on the Spydus Circulation Offline Manager dialog.&nbsp; </LI></OL>
<BLOCKQUOTE style="MARGIN-RIGHT: 0px" dir=ltr>
<P><IMG class=ThinNavyBorder border=0 alt="" src="http://kapiti.spydus.co.nz/onlinehelp/images/OFF_RecoverTransactions.jpg"></P></BLOCKQUOTE>
<BLOCKQUOTE style="MARGIN-RIGHT: 0px" dir=ltr>
<P>The <STRONG>Pending</STRONG> column shows how many transactions are still to be recovered.</P></BLOCKQUOTE>
<OL style="COUNTER-RESET: item 1" start=2>
<LI>Select the recovery options. </LI></OL>
<BLOCKQUOTE style="MARGIN-RIGHT: 0px" dir=ltr>
<UL>
<LI>In the <STRONG>Filename</STRONG> box, specify where the recovery report is to be saved. 
<LI>Select&nbsp;<STRONG>Automatically open report after recovery</STRONG> to have the report showing details of the transactions open automatically after the recovery. 
<LI>Select <STRONG>Include unsuccessful transactions in report</STRONG>&nbsp;to show details of any errors in the recovery report, for example: </LI></UL>
<BLOCKQUOTE style="MARGIN-RIGHT: 0px" dir=ltr>
<BLOCKQUOTE class=CourierNew dir=ltr>
<P>Transaction errors: 2</P>
<P>1) Failed to issue item:A2323232323B, for borrower:C4003D</P>
<P>&nbsp;&nbsp;&nbsp;...Invalid item ID ''A2323232323B' deactivated record'</P>
<P>2) Failed to return item:A200405111313B</P>
<P>&nbsp;&nbsp;&nbsp;...Invalid item ID ''A200405111313B' deactivated record'</P></BLOCKQUOTE>
<P>If this check box is not selected, then the report will simply give a count of the number of errors encountered, for example:</P>
<BLOCKQUOTE style="MARGIN-RIGHT: 0px" dir=ltr>
<P class=CourierNew dir=ltr>Transaction errors: 2</P></BLOCKQUOTE></BLOCKQUOTE>
<UL>
<LI>Select <STRONG>Include&nbsp;successful transactions in report</STRONG> to show details of successful transactions in the recovery report. </LI></UL></BLOCKQUOTE>
<OL style="COUNTER-RESET: item 2" start=3>
<LI>Click <STRONG>Recover Transactions</STRONG>. </LI></OL>
<H1>Example recovery report</H1>
<P>In this example we've included unsuccessful and successful transactions.</P>
<BLOCKQUOTE style="MARGIN-RIGHT: 0px" dir=ltr>
<P class=CourierNew>Offline Recovery<BR>Started : 2:05:56 PM Wednesday, 6 September 2017<BR>Finished: 2:06:09 PM Wednesday, 6 September 2017</P>
<P class=CourierNew>Total new borrower registrations: 2/2<BR>Total issued: 6/6<BR>Total returned: 2/3</P>
<P class=CourierNew>Transaction errors: 1<BR>1) Failed to return item: 005673953<BR>&nbsp;&nbsp; ...Item status 'Damaged' set 24/05/2017 blocking return</P>
<P class=CourierNew>Successful Transactions: 10<BR>1) Created borrower: B13270617<BR>2) Created borrower: B13302413<BR>3) Issued item: A05100816B to borrower: B1949<BR>4) Issued item: A01101418B to borrower: B1950<BR>5) Issued item: A14010914B to borrower: B1950<BR>6) Returned item: 005183250<BR>&nbsp;&nbsp; ...Please return to Beaumont Library<BR>7) Returned item: 004681866<BR>&nbsp;&nbsp; ...Please return to Bridge Library<BR>8) Issued item: 007160409 to borrower: B13270617<BR>9) Issued item: 007120052 to borrower: B13270617<BR>10) Issued item: 007038708 to borrower: B13302413</P>
<P class=CourierNew>----------- End of file -----------</P></BLOCKQUOTE>
<H1>Offline error reconciliation</H1>
<P>Some errors reported in the recovery report will require action to address the cause of a failure. Some offline errors are simply reports of why a transaction has not been created in Spydus for a transaction processed while offline.</P>
<P>Here are a number of error reports that you may see in the .txt file:</P>
<UL>
<LI>Failed to issue item:A39232859B, for borrower:C80000682D<BR>...<STRONG>Item was issued/renewed to this borrower today</STRONG> 
<UL>
<LI>No action required.<BR></LI></UL>
<LI>Failed to return item:A38830833B<BR><STRONG>...Item last sighted date/time</STRONG> '10 Apr 2008 12:46:00' <STRONG>is later than transaction date/time</STRONG> '10 Apr 2008 11:14:22' 
<UL>
<LI>No action required. This error occurs when an item was both issued and returned while offline, and the issue transaction is processed first.<BR></LI></UL>
<LI>Failed to issue item:A39157768B, for borrower:<STRONG>C60623513B</STRONG><BR>...'CCircTrans::GetPrm' - name-'AUTOADDBRW' and format-'CIRC_PARAMETERS' not found.<BR>...<STRONG>Failed to add borrower record (BRW)</STRONG> 
<UL>
<LI>This error occurs when a borrower barcode does not exist in the database, and was not registered during the offline period. The borrower must be registered manually, and any failed transactions issued manually.<BR></LI></UL>
<LI>Failed to issue item:A39326977B, for borrower:<STRONG>DARTC</STRONG><BR>...'CCircTrans::GetPrm' - name-'AUTOADDBRW' and format-'CIRC_PARAMETERS' not found.<BR><STRONG>...Failed to add borrower record (BRW)</STRONG> 
<UL>
<LI>Same error as above, however it appears in this case that an invalid string (DARTC) was entered in the barcode field during offline.<BR></LI></UL>
<LI><STRONG>Failed to issue item</STRONG>:A39293289B, for borrower:C80000230D 
<UL>
<LI>There is no specific information included on why this transaction failed. Attempt to process manually.<BR></LI></UL>
<LI><STRONG>Failed to return item</STRONG>:A27645809B<BR>...<STRONG>Invalid item</STRONG> A27645809B 
<UL>
<LI>The item barcode does not exist in the database. Check for any additional characters in the field that do not match the barcode format. If the item is able to be identified, issue manually.<BR></LI></UL>
<LI><STRONG>Failed to issue item</STRONG>:A39273482B, for borrower:3111505407<BR>...Item is overdue<BR>...Further reservations on this item. Loan period reduced from 3 to 0 days<BR>...Due date '30 Apr 2008' earlier than loan date '30 Apr 2008' 
<UL>
<LI>Parameters, policies or alerts may have prevented the issue of an item. Try manually issuing the item and overriding the prompts. </LI></UL></LI></UL>
<H1>Clear offline transactions</H1>
<P>Once the transactions have been recovered, click&nbsp;<STRONG>Clear Recovered Transactions</STRONG> to clear them from the PC.</P>
<P>If you wish, you can click <STRONG>Clear All Transactions</STRONG> to clear the transactions that haven't yet been recovered as well as those that have.</P>
<H1>What if there's a more recent online transaction?</H1>
<P>What happens if an item is returned offline and then issued to another borrower before the offline transaction (i.e. the return) is recovered? Does recovering the transaction return the item?</P>
<P>And what happens if an item is issued offline and then returned before the offline transaction (i.e. the issue) is recovered? Does recovering the transaction issue the item?</P>
<P>The simple answer is that you needn’t worry about it. When you recover the transactions, Spydus will do a few checks to make sure all works correctly.</P>
<P><STRONG>For an offline return</STRONG></P>
<BLOCKQUOTE style="MARGIN-RIGHT: 0px" dir=ltr>
<P>If the last-sighted date on the item is later than the date and time of the offline return then the return is ignored. You’ll see a critical “LASTSIGHTED” alert against this return in the recovery file.</P></BLOCKQUOTE>
<P><STRONG>For an offline issue</STRONG></P>
<BLOCKQUOTE style="MARGIN-RIGHT: 0px" dir=ltr>
<P>If the last-sighted date on the item is later than the date and time of the offline issue then a completed loan transaction is created for statistical purposes but the item is not updated. That is:</P>
<UL>
<LI>If the item has been issued again since the offline issue then it’ll remain on loan. 
<LI>If the item has been returned since the offline issue then it’ll remain as returned. </LI></UL></BLOCKQUOTE><!--DXMETADATA end-->
            <a name="seealsobookmark"></a>
            <!--DXMETADATA start type="FilteredItemList" scrap="CATEGORISED_LINKS" namespace="linkcategory" source="Item" filter="" NoHeader="True" NoFooter="True" format="%%replaceinquotes:value=false%%%%scrap:name=_COLLAPSIBLE_HEADER,idprefix=seealso,caption=""%%phrase:name=SeeAlso%%%%designlist:tagidentifier=seealso,itemtype=See Also%%""%%%%filtereditemlist%%</div>"--><!--DXMETADATA end-->
            
            <div id="i-footer-content" class="i-footer-content">
                <!--DXMETADATA start type="Scrap" condition="communityenabled" name="_COMMUNITY_FOOTER" --><!--DXMETADATA end -->
<!--DXMETADATA start type="Variable" name="CopyrightNotice" format="<p>&nbsp;</p><p>&nbsp;</p><hr style=""height: 1px"" /><p>%%variable%%</p>" --><p>&nbsp;</p><p>&nbsp;</p><hr style="height: 1px" /><p>© Civica Pty Ltd 2025. All rights reserved   |   Version: 2025R1</p><!--DXMETADATA end -->
<!--DXMETADATA start type="Variable" name="FeedbackLink" format="" --><!--DXMETADATA end-->
            </div>
        </div>
    </div>
        
    <script type="text/javascript">
        $(function () {
            var documentInstance = new Innovasys.Content.Document(document.body);
            documentInstance.load();
        });
    </script>
</body>
</html>

